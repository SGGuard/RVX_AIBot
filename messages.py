# messages.py
# ะจะฐะฑะปะพะฝั ัะพะพะฑัะตะฝะธะน ะดะปั Telegram ะฑะพัะฐ
# Version: 0.25.0

# ============================================================================
# START & HELP MESSAGES
# ============================================================================
MSG_START = """
ะัะฟะพะปัะทัะตััั ะฒ start_command() - ะฑะพะปะตะต ัะปะพะถะฝะพะต ะดะธะฝะฐะผะธัะฝะพะต ัะพะพะฑัะตะฝะธะต
"""

MSG_HELP = """
๐ค ะะฐะบ ะธัะฟะพะปัะทะพะฒะฐัั RVX Bot

๐ ะะกะะะะะะ:
- ะัะฟัะฐะฒััะต ะผะฝะต ะปัะฑะพะน ัะตะบัั ะธะปะธ ัััะปะบั โ ั ะฟัะพะฐะฝะฐะปะธะทะธััั
- ะะฐะถะธะผะฐะนัะต ะบะฝะพะฟะบะธ "ะะพะปะตะทะฝะพ" ะธะปะธ "ะะต ะฟะพะผะพะณะปะพ" โ ัะปัััะฐั ะพัะฒะตัั
- ะะฐะถะธะผะฐะนัะต "ะงัะพ ะตัะต?" โ ะฟะพะบะฐะทัะฒะฐั ะฑะพะปััะต ะธะฝัะพัะผะฐัะธะธ

๐ฎ ะะะะกะขะซ ะ ะะะะะะะซ:
/quest - ัะตะบััะธะต ะบะฒะตััั
/daily - ะตะถะตะดะฝะตะฒะฝะพะต ะทะฐะดะฐะฝะธะต
/drops - ะฒะฐัะธ ะดัะพะฟั

๐ ะกะขะะขะะกะขะะะ:
/stats - ะฒะฐัะฐ ััะฐัะธััะธะบะฐ
/profile - ะฟัะพัะธะปั ะฟะพะปัะทะพะฒะฐัะตะปั

โ๏ธ ะะะฃะะะ:
/settings - ะฝะฐัััะพะนะบะธ
/feedback - ะพัะฟัะฐะฒะธัั ะพัะทัะฒ
/support - ะฟะพะดะดะตัะถะบะฐ

๐ก ะกะพะฒะตั: ะะฐะถะดัะน ะฐะฝะฐะปะธะท ัะปัััะฐะตั ะผะพะน AI. ะะฐั ัะธะดะฑะตะบ - ะบัะธัะธัะฝะพ ะฒะฐะถะตะฝ!
"""

MSG_ANALYZING = """
๐ ะะฝะฐะปะธะทะธััั...
"""

MSG_ERROR_GENERIC = """
โ ะัะธะฑะบะฐ ะฟัะธ ะพะฑัะฐะฑะพัะบะต ะทะฐะฟัะพัะฐ.

ะะพะถะฐะปัะนััะฐ, ะฟะพะฟัะพะฑัะนัะต ะฟะพะทะถะต ะธะปะธ ัะฒัะถะธัะตัั ั ะฟะพะดะดะตัะถะบะพะน.
"""

MSG_ERROR_API_TIMEOUT = """
โฑ๏ธ ะะฝะฐะปะธะท ะทะฐะฝัะป ัะปะธัะบะพะผ ะดะพะปะณะพ.

ะกะบะพัะตะต ะฒัะตะณะพ, ัะตะบัั ะพัะตะฝั ะฑะพะปััะพะน ะธะปะธ ัะตัะฒะธั ะฒัะตะผะตะฝะฝะพ ะฝะตะดะพัััะฟะตะฝ.
ะะพะฟัะพะฑัะนัะต ัะพะบัะฐัะธัั ัะตะบัั ะธ ะพัะฟัะฐะฒะธัั ัะฝะพะฒะฐ.
"""

MSG_ERROR_INVALID_INPUT = """
โ ะะตะบะพััะตะบัะฝัะน ะฒะฒะพะด.

ะะพะถะฐะปัะนััะฐ, ะพัะฟัะฐะฒััะต ัะตะบัั ะดะปั ะฐะฝะฐะปะธะทะฐ (ะผะธะฝะธะผัะผ 10 ัะธะผะฒะพะปะพะฒ).
"""

# ============================================================================
# ANALYSIS RESULTS
# ============================================================================
MSG_ANALYSIS_HEADER = "๐ ะะะะะะ ะะะะะกะขะ\n\n"

MSG_ANALYSIS_NO_DATA = """
๐ญ ะะต ะผะพะณั ะฟัะพะฐะฝะฐะปะธะทะธัะพะฒะฐัั ััะพั ัะตะบัั.

ะัะธัะธะฝั:
- ะขะตะบัั ัะปะธัะบะพะผ ะบะพัะพัะบะธะน
- ะขะตะบัั ะฝะฐ ะฝะตะฟะพะดะดะตัะถะธะฒะฐะตะผะพะผ ัะทัะบะต
- ะขะตะบัั ะฝะต ัะพะดะตัะถะธั ัะธะฝะฐะฝัะพะฒะพะน ะธะฝัะพัะผะฐัะธะธ

ะะพะฟัะพะฑัะนัะต ะพัะฟัะฐะฒะธัั ะฟะพะปะฝัั ะฝะพะฒะพััั ะฝะฐ ััััะบะพะผ ะธะปะธ ะฐะฝะณะปะธะนัะบะพะผ.
"""

MSG_ANALYSIS_LOADING_MORE = "โณ ะะฐะณััะถะฐั ะดะพะฟะพะปะฝะธัะตะปัะฝัั ะธะฝัะพัะผะฐัะธั...\n"

# ============================================================================
# FEEDBACK MESSAGES
# ============================================================================
MSG_FEEDBACK_THANKS = """
โ ะกะฟะฐัะธะฑะพ ะทะฐ ะพะฑัะฐัะฝัั ัะฒัะทั!

ะะฐัะต ะผะฝะตะฝะธะต ะฟะพะผะพะณะฐะตั ัะปัััะธัั ะฐะฝะฐะปะธะท.
"""

MSG_FEEDBACK_USEFUL = """
๐ ะัะปะธัะฝะพ! ะะฐะด, ััะพ ะธะฝัะพัะผะฐัะธั ะพะบะฐะทะฐะปะฐัั ะฟะพะปะตะทะฝะพะน.
"""

MSG_FEEDBACK_NOT_USEFUL = """
๐ ะะพะฝะธะผะฐั, ะฝะต ะฟะพะดะพัะปะพ.

ะงัะพ ะผะพะถะฝะพ ัะปัััะธัั?
- ะะพะฑะฐะฒะธัั ะฑะพะปััะต ะบะพะฝัะตะบััะฐ?
- ะััะณะพะน ัะพัะผะฐั ะพัะฒะตัะฐ?
- ะะพะปััะต ะฟะพะดัะพะฑะฝะพััะตะน?

ะะฐะฟะธัะธัะต ัะฒะพะน ะฒะฐัะธะฐะฝั ัะปัััะตะฝะธั.
"""

MSG_FEEDBACK_COLLECTED = """
๐ ะะฐั ะพัะทัะฒ ะทะฐะฟะธัะฐะฝ. ะกะฟะฐัะธะฑะพ!
"""

# ============================================================================
# QUEST MESSAGES
# ============================================================================
MSG_QUEST_DAILY_COMPLETE = """
๐ ะะะะะะะะะะ ะะะะะะะ ะะซะะะะะะะ!

โจ +{points} ะพัะบะพะฒ
๐ฐ ะะพะปััะตะฝะพ ะฒะพะทะฝะฐะณัะฐะถะดะตะฝะธะต
๐ ะกะปะตะดัััะตะต ะทะฐะดะฐะฝะธะต ะทะฐะฒััะฐ ะฒ 00:00

ะขะตะบััะธะน ะฑะฐะปะฐะฝั: {balance} ะพัะบะพะฒ
"""

MSG_QUEST_NOT_READY = """
โณ ะะฐะดะฐะฝะธะต ะตัั ะฝะต ะณะพัะพะฒะพ.

ะะพะฟัะพะฑัะนัะต ะฟะพะทะถะต.
"""

MSG_QUEST_LIST = """
๐ ะะะจะ ะะะะกะขะซ

{quests_list}

๐ก ะกะพะฒะตั: ะัะฟะพะปะฝัะนัะต ะบะฒะตััั ะดะปั ะฟะพะปััะตะฝะธั ะพัะบะพะฒ ะธ ะดัะพะฟะพะฒ!
"""

MSG_NO_QUESTS = """
๐ญ ะฃ ะฒะฐั ะฝะตั ะฐะบัะธะฒะฝัั ะบะฒะตััะพะฒ.

ะะพะฟัะพะฑัะนัะต /daily ะธะปะธ ะดะพะถะดะธัะตัั ะฝะพะฒัั ะบะฒะตััะพะฒ.
"""

# ============================================================================
# DROPS & REWARDS
# ============================================================================
MSG_DROPS_RECEIVED = """
๐ ะะซ ะะะะฃะงะะะ ะะะ!

๐ฆ {drop_name}
โญ ะะตะดะบะพััั: {rarity}
๐ ะกัะพะธะผะพััั: {value} ะพัะบะพะฒ

ะขะตะบััะธะน ะธะฝะฒะตะฝัะฐัั: {total_drops} ะฟัะตะดะผะตัะพะฒ
"""

MSG_DROPS_LIST = """
๐ ะะะจะ ะะะะะซ

{drops_list}

๐ผ ะัะตะณะพ: {total_count} ะฟัะตะดะผะตัะพะฒ
๐ ะกัะผะผะฐัะฝะฐั ััะพะธะผะพััั: {total_value} ะพัะบะพะฒ
"""

MSG_NO_DROPS = """
๐ญ ะฃ ะฒะฐั ะฝะตั ะดัะพะฟะพะฒ.

ะะฐัะฝะธัะต ะฒัะฟะพะปะฝััั ะบะฒะตััั ะดะปั ะฟะพะปััะตะฝะธั ะฝะฐะณัะฐะด!
"""

# ============================================================================
# STATS & PROFILE
# ============================================================================
MSG_STATS_HEADER = """
๐ ะะะจะ ะกะขะะขะะกะขะะะ

๐ค ะะพะปัะทะพะฒะฐัะตะปั: {username}
๐ ะะฐัะตะณะธัััะธัะพะฒะฐะฝ: {join_date}
โฑ๏ธ ะะบัะธะฒะตะฝ: {days_active} ะดะฝะตะน

๐ซ ะฃัะพะฒะตะฝั: {level}
โญ ะะฟัั: {experience}/{next_level_exp}

๐ฐ ะัะบะธ: {points}
๐ ะัะพะฟั: {drops_count}
๐ ะะฝะฐะปะธะทะพะฒ: {analyses_count}
๐ ะะพะปะตะทะฝัั: {useful_feedback}

๐ ะะพััะธะถะตะฝะธั: {achievements}
"""

MSG_PROFILE = """
๐ค ะะะะคะะะฌ {username}

๐ ะกัะฐัะธััะธะบะฐ:
โข ะะฝะฐะปะธะทะพะฒ: {analyses}
โข ะะตะนัะธะฝะณ: {rating}โญ
โข ะะพััะธะถะตะฝะธั: {achievements}

๐ฏ ะฃัะพะฒะตะฝั {level} ({experience}%)
๐ฐ {points} ะพัะบะพะฒ
๐ {drops} ะดัะพะฟะพะฒ

๐ ะัะธัะพะตะดะธะฝะธะปัั: {join_date}
"""

# ============================================================================
# ADMIN MESSAGES
# ============================================================================
MSG_ADMIN_PANEL = """
โ๏ธ ADMIN ะะะะะะฌ

๐ ะะะขะะะะ:
โข ะะบัะธะฒะฝัั ะฟะพะปัะทะพะฒะฐัะตะปะตะน: {active_users}
โข ะัะตะณะพ ะฐะฝะฐะปะธะทะพะฒ: {total_analyses}
โข ะกัะตะดะฝะตะต ะฒัะตะผั: {avg_time}s
โข ะฃัะฟะตัะฝัั: {success_rate}%

๐ด ะะจะะะะ:
โข ะกะตะณะพะดะฝั: {errors_today}
โข ะัะธัะธัะตัะบะธะต: {critical_errors}

๐พ ะะะะ ะะะะะซะฅ:
โข ะะฐะทะผะตั: {db_size}MB
โข ะะพัะปะตะดะฝัั ัะตะทะตัะฒะฝะฐั ะบะพะฟะธั: {last_backup}

๐ค AI:
โข ะัะพะฒะฐะนะดะตั: {ai_provider}
โข ะะพะดะตะปั: {ai_model}
โข ะกัะพะธะผะพััั: ${cost_today}

๐ง ะะะะะะะซ:
/admin_restart - ะฟะตัะตะทะฐะณััะทะธัั
/admin_backup - ัะตะทะตัะฒะฝะฐั ะบะพะฟะธั
/admin_stats - ะฟะพะปะฝะฐั ััะฐัะธััะธะบะฐ
"""

MSG_ADMIN_BROADCAST = """
๐ข ะะะกะกะซะะะ ะะขะะะะะะะะ

โ ะะพะปััะตะฝะพ: {received} ะฟะพะปัะทะพะฒะฐัะตะปะตะน
โญ๏ธ ะัะพะฟััะตะฝะพ: {skipped}
โ ะัะธะฑะพะบ: {errors}
โฑ๏ธ ะัะตะผั: {duration}s
"""

# ============================================================================
# ERRORS & WARNINGS
# ============================================================================
MSG_RATE_LIMITED = """
โฑ๏ธ ะั ะพัะฟัะฐะฒะปัะตัะต ัะพะพะฑัะตะฝะธั ัะปะธัะบะพะผ ัะฐััะพ.

ะะพะถะฐะปัะนััะฐ, ะฟะพะดะพะถะดะธัะต {wait_time} ัะตะบัะฝะด.
"""

MSG_NETWORK_ERROR = """
๐ ะัะธะฑะบะฐ ัะตัะธ.

ะะต ะผะพะณั ะฟะพะดะบะปััะธัััั ะบ AI ัะตัะฒะตัั.
ะะพะฟัะพะฑัะนัะต ะฟะพะทะถะต.
"""

MSG_HALLUCINATION_WARNING = """
โ๏ธ ะะะะะะะะ

ะฏ ะฝะต ะฝะฐัะตะป ะบะพะฝะบัะตัะฝัั ะดะฐะฝะฝัั ะฟะพ ััะพะผั ะฒะพะฟัะพัั.
ะะพั ัะฒะตัะตะฝะฝะพััั: {confidence}%

ะะตะบะพะผะตะฝะดัั ะฟัะพะฒะตัะธัั ะธะฝัะพัะผะฐัะธั ะฒ ะพัะธัะธะฐะปัะฝัั ะธััะพัะฝะธะบะฐั.
"""

MSG_UNKNOWN_ERROR = """
๐ด ะะตะธะทะฒะตััะฝะฐั ะพัะธะฑะบะฐ.

ID ะพัะธะฑะบะธ: {error_id}
ะัะตะผั: {timestamp}

ะะฝัะพัะผะฐัะธั ะพัะฟัะฐะฒะปะตะฝะฐ ะฒ ะฟะพะดะดะตัะถะบั.
"""

# ============================================================================
# BUTTON LABELS
# ============================================================================
BUTTON_MORE_INFO = "ะงัะพ ะตัะต?"
BUTTON_USEFUL = "๐ ะะพะปะตะทะฝะพ"
BUTTON_NOT_USEFUL = "๐ ะะต ะฟะพะผะพะณะปะพ"
BUTTON_SHARE = "๐ค ะะพะดะตะปะธัััั"
BUTTON_BACK = "โ๏ธ ะะฐะทะฐะด"
BUTTON_NEXT = "โถ๏ธ ะะฐะปััะต"
BUTTON_ANALYZE = "๐ ะัะพะฐะฝะฐะปะธะทะธัะพะฒะฐัั"
BUTTON_DETAILS = "๐ ะะพะดัะพะฑะฝะพ"

# ============================================================================
# INLINE KEYBOARDS
# ============================================================================
KEYBOARD_YES_NO = [
    [{"text": "โ ะะฐ", "callback_data": "btn_yes"}],
    [{"text": "โ ะะตั", "callback_data": "btn_no"}],
]

KEYBOARD_FEEDBACK = [
    [
        {"text": "๐ ะะพะปะตะทะฝะพ", "callback_data": "feedback_useful"},
        {"text": "๐ ะะต ะฟะพะผะพะณะปะพ", "callback_data": "feedback_not_useful"},
    ],
    [{"text": "ะงัะพ ะตัะต?", "callback_data": "feedback_more"}],
]

# ============================================================================
# UTILITY FUNCTIONS
# ============================================================================
def format_message(template: str, **kwargs) -> str:
    """ะคะพัะผะฐัะธัะพะฒะฐัั ัะฐะฑะปะพะฝ ัะพะพะฑัะตะฝะธั ั ะฟะตัะตะผะตะฝะฝัะผะธ"""
    try:
        return template.format(**kwargs)
    except KeyError as e:
        return f"โ ะัะธะฑะบะฐ ัะพัะผะฐัะธัะพะฒะฐะฝะธั: {e}"

def truncate_message(message: str, max_length: int = 4096) -> str:
    """ะะฑัะตะทะฐัั ัะพะพะฑัะตะฝะธะต ะดะพ ะผะฐะบัะธะผะฐะปัะฝะพะน ะดะปะธะฝั"""
    if len(message) <= max_length:
        return message
    return message[:max_length-3] + "..."

def split_message(message: str, chunk_size: int = 3000) -> list:
    """ะะฐะทะฑะธัั ะฑะพะปััะพะต ัะพะพะฑัะตะฝะธะต ะฝะฐ ัะฐััะธ"""
    if len(message) <= chunk_size:
        return [message]
    
    chunks = []
    current_chunk = ""
# ============================================================================
# EXTENDED HELP MESSAGE (v0.25.0)
# ============================================================================
MSG_HELP_EXTENDED = """<b>๐ ะะะะะะ ะะฃะะะะะะกะขะะ ะะ RVX BOT v0.26.5</b>
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ฏ ะงะขะ ะะะะะข ะะะะะขะฌ ะะะข:</b>
1. ๐ฐ ะะะะะซะ ะฐะฝะฐะปะธะทั ะบัะธะฟัะพะฝะพะฒะพััะตะน
2. ๐ ะะะะะะะะะ ะพะฑััะตะฝะธะต 
3. ๐ฎ ะะะะะะคะะฆะะะะะะะะะ ะพะฑััะตะฝะธะต
4. ๐ ะะะขะะะฌะะะ ะพััะปะตะถะธะฒะฐะฝะธะต ะฟัะพะณัะตััะฐ

<b>๐ ะะะะะะซะ ะะะะะะะซ:</b>

<b>/teach [ัะตะผะฐ] [ััะพะฒะตะฝั]</b> - ะะะขะะะะะขะะะะะ ะะะฃะงะะะะ
<b>/learn</b> - ะะะะะซะ ะะฃะะกะซ
<b>/tasks</b> - ะะะะะะะะะซะ ะะะะกะขะซ  
<b>/stats</b> - ะกะขะะขะะกะขะะะ ะ ะะะกะขะะะะะะฏ
"""

# ============================================================================
# FEEDBACK MESSAGES (v0.25.0)
# ============================================================================
MSG_FEEDBACK_HELPFUL = "โ ะกะฟะฐัะธะฑะพ ะทะฐ ะพัะทัะฒ! ะะฐะด, ััะพ ะฟะพะผะพะณ ๐"
MSG_FEEDBACK_UNHELPFUL = "๐ ะะพะฟัะพะฑัะนัะต ะพัะฟัะฐะฒะธัั ะฝะพะฒะพััั ะทะฐะฝะพะฒะพ ะดะปั ะฝะพะฒะพะณะพ ะฐะฝะฐะปะธะทะฐ."
MSG_CLARIFY_PROMPT = "๐ง ะะพะฑะฐะฒะปัั ะธะฝัะพัะผะฐัะธั..."
MSG_CLARIFY_NOT_FOUND = "โ ะะต ะฝะฐะนะดะตะฝ ะฟะพัะปะตะดะฝะธะน ะฒะพะฟัะพั"

# ============================================================================
# ERROR MESSAGES (v0.25.0)
# ============================================================================
MSG_ERROR_BANNED = "โ <b>ะั ะทะฐะฑะปะพะบะธัะพะฒะฐะฝั</b>\n\nะัะธัะธะฝะฐ: <i>{reason}</i>"
MSG_ERROR_LIMIT_EXCEEDED = "โ๏ธ ะั ะดะพััะธะณะปะธ ะปะธะผะธัะฐ ะทะฐะฟัะพัะพะฒ ะฝะฐ ัะตะณะพะดะฝั"
MSG_ERROR_FLOOD_CONTROL = "๐ซ ะะพะถะฐะปัะนััะฐ, ะฟะพะดะพะถะดะธัะต {seconds}ั ะฟะตัะตะด ัะปะตะดัััะธะผ ะทะฐะฟัะพัะพะผ"
MSG_ERROR_TEXT_TOO_LONG = "๐ ะขะตะบัั ัะปะธัะบะพะผ ะดะปะธะฝะฝัะน. ะะฐะบัะธะผัะผ: {max_length} ัะธะผะฒะพะปะพะฒ"


def split_message(message: str, chunk_size: int = 4090) -> list:
    """
    ะะฐะทะฑะธะฒะฐะตั ะดะปะธะฝะฝะพะต ัะพะพะฑัะตะฝะธะต ะฝะฐ ัะฐััะธ ะดะปั Telegram (ะผะฐะบั. 4096 ัะธะผะฒะพะปะพะฒ).
    
    Args:
        message: ะััะพะดะฝะพะต ัะพะพะฑัะตะฝะธะต
        chunk_size: ะะฐะทะผะตั ะบะฐะถะดะพะณะพ ะบััะบะฐ (ะฟะพ ัะผะพะปัะฐะฝะธั 4090)
        
    Returns:
        ะกะฟะธัะพะบ ะบััะบะพะฒ ัะพะพะฑัะตะฝะธั
    """
    chunks = []
    current_chunk = ""
    
    for line in message.split("\n"):
        if len(current_chunk) + len(line) + 1 > chunk_size:
            if current_chunk:
                chunks.append(current_chunk)
            current_chunk = line
        else:
            current_chunk += "\n" + line if current_chunk else line
    
    if current_chunk:
        chunks.append(current_chunk)
    
    return chunks
