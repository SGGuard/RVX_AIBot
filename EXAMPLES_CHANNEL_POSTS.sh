#!/bin/bash
# üì¢ –ü–†–ò–ú–ï–†–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø: –ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ –≤ –∫–∞–Ω–∞–ª

# ‚ö†Ô∏è –í–ê–ñ–ù–û: –°–Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ UPDATE_CHANNEL_ID –≤ .env
# –ù–∞–ø—Ä–∏–º–µ—Ä: UPDATE_CHANNEL_ID=-1001234567890

# –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –±–æ—Ç:
# pkill -f "python.*bot.py" && python3 bot.py &

# =============================================================================
# –ü–†–ò–ú–ï–†–´ –ö–û–ú–ê–ù–î –î–õ–Ø –ü–£–ë–õ–ò–ö–ê–¶–ò–ò
# =============================================================================

# 1Ô∏è‚É£ –ü–£–ë–õ–ò–ö–ê–¶–ò–Ø –û–ë–´–ß–ù–û–ì–û –ü–û–°–¢–ê –í –ö–ê–ù–ê–õ
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–º —á–∞—Ç–µ —Å –±–æ—Ç–æ–º:

/post_to_channel üöÄ <b>–ù–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ!</b>

–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
‚Ä¢ –°–∏—Å—Ç–µ–º–∞ –∫–≤–µ—Å—Ç–æ–≤ v2
‚Ä¢ XP-–∑–∞–≤–∏—Å–∏–º—ã–µ –ª–∏–º–∏—Ç—ã
‚Ä¢ –£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–°–ø–∞—Å–∏–±–æ –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å! ‚ú®


# 2Ô∏è‚É£ –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –û –ù–û–í–û–ô –í–ï–†–°–ò–ò –ë–û–¢–ê
# –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Å—Ç —Å –≤–µ—Ä—Å–∏–µ–π –∏ changelog:

/notify_version 0.15.0 | –ù–æ–≤—ã–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã | –£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å API | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –±–∞–≥–∏ –ª–∏–º–∏—Ç–æ–≤


# 3Ô∏è‚É£ –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –û –ù–û–í–´–• –ö–í–ï–°–¢–ê–•
# –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Å—Ç –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–≤–µ—Å—Ç–∞—Ö:

/notify_quests


# 4Ô∏è‚É£ –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –û –î–û–°–¢–ò–ñ–ï–ù–ò–ò –í–ï–•–ò
# –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö:

/notify_milestone 100 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | 100

# –ò–ª–∏ –ø—Ä–∏ 500:
/notify_milestone –ü–æ–ª–º–∏–ª–ª–∏–æ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ | 500000


# =============================================================================
# –ü–û–õ–ï–ó–ù–´–ï –ü–†–ò–ú–ï–†–´ –î–õ–Ø –°–¶–ï–ù–ê–†–ò–ï–í
# =============================================================================

# üìù –ü–†–ò–ú–ï–† 1: –û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏

/post_to_channel üîß <b>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ</b>

‚è∏Ô∏è –ë–æ—Ç –±—É–¥–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω —Å 23:00 –¥–æ 23:10 –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

üöÄ –ù–∞—Å –∂–¥—É—Ç —É–ª—É—á—à–µ–Ω–∏—è!


# üìù –ü–†–ò–ú–ï–† 2: –û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

/post_to_channel ‚ú® <b>–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è: –†–µ–π—Ç–∏–Ω–≥ –ø–æ–ª–µ–∑–Ω–æ—Å—Ç–∏</b>

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ü–µ–Ω–∏–≤–∞—Ç—å –ø–æ–ª–µ–∑–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ üëçüëé –∫–Ω–æ–ø–∫–∏!

üìä –í–∞—à–∏ –æ—Ü–µ–Ω–∫–∏ –ø–æ–º–æ–≥—É—Ç –Ω–∞–º —É–ª—É—á—à–∏—Ç—å –±–æ—Ç!


# üìù –ü–†–ò–ú–ï–† 3: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–æ–≤—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

/post_to_channel üëã <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ RVX!</b>

–ù–∞—á–Ω–∏—Ç–µ —Å /help –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

üéì –ü–æ–ø—Ä–æ–±—É–π—Ç–µ /tasks –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∫–≤–µ—Å—Ç–æ–≤
üí™ –ü–æ–ª—É—á–∞–π—Ç–µ XP –∏ –ø–æ–≤—ã—à–∞–π—Ç–µ —É—Ä–æ–≤–µ–Ω—å!


# üìù –ü–†–ò–ú–ï–† 4: –°–æ–æ–±—â–µ–Ω–∏–µ –æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ

/post_to_channel üìà <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –º–µ—Å—è—Ü</b>

‚úÖ 1000+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–æ–∑–¥–∞–Ω–æ
‚úÖ 50000+ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ
‚úÖ 5000+ —á–∞—Å–æ–≤ –æ–±—É—á–µ–Ω–∏—è

–°–ø–∞—Å–∏–±–æ –≤–∞–º –≤—Å–µ–º –∑–∞ —É—á–∞—Å—Ç–∏–µ! üôè


# üìù –ü–†–ò–ú–ï–† 5: –û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ –∫–æ–Ω–∫—É—Ä—Å–µ/—á–µ–ª–ª–µ–Ω–¥–∂–µ

/post_to_channel üèÜ <b>–ú–µ—Å—è—á–Ω—ã–π —á–µ–ª–ª–µ–Ω–¥–∂!</b>

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏ –∏ –ø–æ–ª—É—á–∏—Ç–µ –±–æ–Ω—É—Å XP!

üéÅ –ü—Ä–∏–∑ –¥–ª—è —Ç–æ–ø-3 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:
‚Ä¢ üíé –ü—Ä–µ–º–∏—É–º —Å—Ç–∞—Ç—É—Å –Ω–∞ –Ω–µ–¥–µ–ª—é
‚Ä¢ üëë –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –±–µ–π–¥–∂
‚Ä¢ üí™ +500 –±–æ–Ω—É—Å XP


# üìù –ü–†–ò–ú–ï–† 6: –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å —Å–æ–æ–±—â–µ—Å—Ç–≤—É

/post_to_channel üíù <b>–°–ø–∞—Å–∏–±–æ –≤—Å–µ–º—É —Å–æ–æ–±—â–µ—Å—Ç–≤—É RVX!</b>

–ó–∞ –ø—Ä–æ—à–ª—ã–π –º–µ—Å—è—Ü:
‚Ä¢ 2000+ –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚Ä¢ 100000+ –∞–Ω–∞–ª–∏–∑–æ–≤ –ø—Ä–æ–≤–µ–¥–µ–Ω–æ
‚Ä¢ –°–∏—Å—Ç–µ–º–∞ —É–ª—É—á—à–µ–Ω–∞ –Ω–∞ 40%!

–í–∞—à–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –¥–≤–∏–≥–∞–µ—Ç –Ω–∞—Å –≤–ø–µ—Ä–µ–¥! üöÄ


# üìù –ü–†–ò–ú–ï–† 7: –û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

/notify_version 0.16.0 | –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ | –î–æ–±–∞–≤–ª–µ–Ω—ã 20 –Ω–æ–≤—ã—Ö –∫—É—Ä—Å–æ–≤ | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CoinGecko | –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (EN/RU/UA)


# =============================================================================
# –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–Ø –ß–ï–†–ï–ó –ö–†–û–ù (Linux/Mac)
# =============================================================================

# –î–æ–±–∞–≤—å—Ç–µ –≤ crontab –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:

# –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 9:00 - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤—ã—Ö –∫–≤–µ—Å—Ç–∞—Ö
0 9 * * * curl -X POST http://localhost:8000/notify_quests

# –ö–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 8:00 - –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ —Ä–µ–∑—é–º–µ
0 8 * * 1 /home/sv4096/rvx_backend/send_weekly_summary.sh

# –ü–µ—Ä–≤–æ–≥–æ —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞ –≤ 10:00 - –º–µ—Å—è—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
0 10 1 * * /home/sv4096/rvx_backend/send_monthly_stats.sh


# =============================================================================
# –°–û–ó–î–ê–ù–ò–ï –°–ö–†–ò–ü–¢–û–í –î–õ–Ø –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–ò
# =============================================================================

# üîß –°–∫—Ä–∏–ø—Ç –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏:
# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫: send_version_update.sh

#!/bin/bash
VERSION="0.16.0"
CHANGELOG="–ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞|–î–æ–±–∞–≤–ª–µ–Ω—ã 20 –Ω–æ–≤—ã—Ö –∫—É—Ä—Å–æ–≤|–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CoinGecko"

curl -X POST \
  -H 'Content-Type: application/json' \
  -d '{
    "version": "'$VERSION'",
    "changelog": "'$CHANGELOG'"
  }' \
  http://localhost:8000/notify_version

echo "‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ v$VERSION –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ"


# üîß –°–∫—Ä–∏–ø—Ç –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –æ –∫–≤–µ—Å—Ç–∞—Ö:
# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫: send_daily_quests.sh

#!/bin/bash
# –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ Telegram API

BOT_TOKEN="YOUR_BOT_TOKEN"
CHANNEL_ID="-1001234567890"

curl -X POST https://api.telegram.org/bot$BOT_TOKEN/sendMessage \
  -d chat_id=$CHANNEL_ID \
  -d text="üìã <b>–ù–æ–≤—ã–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã –≥–æ—Ç–æ–≤—ã!</b>

‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ 5 –∫–≤–µ—Å—Ç–æ–≤
üéÅ –ù–∞–≥—Ä–∞–¥—ã: XP + –ë–µ–π–¥–∂–∏
‚ö° –õ–∏–º–∏—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ —Ä–∞—Å—Ç—É—Ç —Å XP!

–ù–∞—á–Ω–∏—Ç–µ —Å /tasks" \
  -d parse_mode="HTML"


# =============================================================================
# –ü–†–û–í–ï–†–ö–ê –°–¢–ê–¢–£–°–ê
# =============================================================================

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–∞–Ω–∞–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
grep UPDATE_CHANNEL_ID .env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
tail -f bot.log | grep -E "(UPDATE_CHANNEL|üì¢|–ü–æ—Å—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω)"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω:
ps aux | grep "python.*bot" | grep -v grep

# =============================================================================
# –°–û–í–ï–¢–´ –ü–û –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ
# =============================================================================

# 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫—Ä–∞—Å–∏–≤—ã—Ö –ø–æ—Å—Ç–æ–≤:
#    <b>–ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç</b>
#    <i>–ù–∞–∫–ª–æ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç</i>
#    <code>–ö–æ–¥</code>
#    <pre>–ë–ª–æ–∫ –∫–æ–¥–∞</pre>

# 2. –î–æ–±–∞–≤–ª—è–π—Ç–µ —ç–º–æ–¥–∑–∏ –¥–ª—è –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –≤–Ω–∏–º–∞–Ω–∏—è:
#    üöÄ - –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
#    üì¢ - –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π
#    üéâ - –¥–ª—è –≤–µ—Ö –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
#    ‚ú® - –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ–∏—á
#    üìä - –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

# 3. –õ—É—á—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:
#    üåÖ 09:00 - –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã
#    üåÖ 10:00 - –æ–±—ä—è–≤–ª–µ–Ω–∏—è
#    üåû 14:00 - –≤–∞–∂–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
#    üåô 20:00 - –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è —Å–≤–æ–¥–∫–∞

# 4. –ü–æ—Å—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ë–ï–ó –∑–≤—É–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
#    (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ –∫–æ–¥–µ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

# =============================================================================
# –ë–´–°–¢–†–´–ï –ö–û–ú–ê–ù–î–´
# =============================================================================

# –ö–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ —á–∞—Ç —Å –±–æ—Ç–æ–º:

# –ü—Ä–æ—Å—Ç–æ–π –ø–æ—Å—Ç
/post_to_channel üì¢ <b>–û–±—ä—è–≤–ª–µ–Ω–∏–µ</b>

# –í–µ—Ä—Å–∏—è
/notify_version 0.15.0 | –ò–∑–º–µ–Ω–µ–Ω–∏–µ 1 | –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2

# –ö–≤–µ—Å—Ç—ã
/notify_quests

# –í–µ—Ö–∞
/notify_milestone –ù–æ–≤–∞—è –≤–µ—Ö–∞ | 100

# =============================================================================

# üéØ –ò–¢–û–ì–û:
# ‚úÖ –¢–µ–ø–µ—Ä—å –±–æ—Ç –º–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å –ø–æ—Å—Ç—ã –≤ –∫–∞–Ω–∞–ª
# ‚úÖ 4 –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø–æ—Å—Ç–æ–≤
# ‚úÖ HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫—Ä–∞—Å–∏–≤—ã—Ö –ø–æ—Å—Ç–æ–≤
# ‚úÖ –ú–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ –∫—Ä–æ–Ω
# ‚úÖ –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫ –∫–æ–º–∞–Ω–¥–∞–º

echo "‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ—Å—Ç–æ–≤ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!"
